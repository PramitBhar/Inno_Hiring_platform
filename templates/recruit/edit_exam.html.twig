<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>{% block title %}Create new exam{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    {% block stylesheets %}
    {% endblock %}

    {% block javascripts %}
        {% block importmap %}{{ importmap('createForm') }}{% endblock %}
    {% endblock %}
  </head>
  <body>
    {% block body %}
    <div class="nav-section">
  <div class="container">


    <nav class="navbar">
    <div class="nav-logo">
      <img src="{{ asset('images/company_logo.png') }}"
      alt="nav-image" />
    </div>
    <div class="nav-btn">
      <a href="/{{app.user ? 'logout':'login'}}">
        {{app.user ? 'Logout':'Login'}}
      </a>
    </div>
  </nav>
  </div>
</div>
<div class="container">

  <div class="dashboard-section">

    <div class="sidebar">
    <ul class="test-status">
      <li>
        Edit Exam
        <ul class="status-option">
          <li>
          <a href="#all">Step-1</a>
          </li>
          <li>
            <a href="#running">Step-2</a>
          </li>
          <li>
            <a href="#ended">Step-3</a>
          </li>
        </ul>
      </li>
    </ul>
  </div>
  <div class="new-test-form-section">

    <form action="" method="post">
  <div class="form-group row">
    <label for="inputEmail3" class="col-sm-2 col-form-label">Exam title</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="examTitle" id="inputEmail3" placeholder="Enter the title of your exam" value="{{ examInfo.Title }}" required>
    </div>

  <div class="form-group row">
    <label for="inputEmail3" class="col-sm-2 col-form-label">Begin Time</label>
    <div class="col-sm-10">
      <input type="datetime-local" name="startTime" class="form-control" id="inputEmail3" placeholder="e.g: 2024-04-10 17:0:0" value="{{ examInfo.start|date('Y-m-d H:i:s') }}" required>
    </div>

  <div class="form-group row exam-length">
    <label for="customRange3">Exam Length(hours):<input type="text" id="textInput" value="{{ examInfo.length }}" disabled></label>
    <input type="range" name="examLength" class="custom-range" min="1" max="5" step="0.5" id="customRange3" onchange="updateTextInput(this.value);" value="{{ examInfo.length }}">
  </div>

  <div class="row my-4">
    <div class="col-lg-20 mx-auto">
      <div class="card shadow">
        <div class="card-body p-4">
            <div id="show_item">
              <div class="row">
                <div class="col-md-3 mb-3 question_input">
                  <textarea name="questionInput" class="form-control"
                  placeholder="Enter Your Question Here"></textarea>
                </div>
                <div class="col-md-3 mb-3 option">
                  <input type="text" name="Option1" class="form-control"
                  placeholder="option 1">
                </div>

                <div class="col-md-4 mb-3 option">
                  <input type="text" name="Option2" class="form-control"
                  placeholder="Option 2">
                </div>

                <div class="col-md-3 mb-3 option">
                  <input type="text" name="Option3" class="form-control"
                  placeholder="Option 3">
                </div>

                <div class="col-md-3 md-3 option">
                  <input type="text" name="Option4" class="form-control"
                  placeholder="option 4">
                </div>

                <div class="col-md-3 md-3 answer">
                  <input type="text" name="answer" class="form-control"
                  placeholder="Enter the Right Answer">
                </div>

                <div class="col-md-2 mb-3 answer">
                  <button class="btn btn-success">Add More Question</button>
                </div>
              </div>
            </div>
            <div>
              <input type="submit" value="Edit Exam" class="btn btn-primary W-25" id="add_btn">
            </div>
        </div>
      </div>
    </div>
  </div>

</form>
</div>
</div>
</div>
    {% endblock %}
    {# {% block javascripts %} #}
    <script>
       document.addEventListener('click', function(e) {
            if (e.target.classList.contains('add_item_btn')) {
                e.preventDefault();
                let container = document.getElementById('show_item');
                 let newRow = document.createElement('div');
                newRow.className = 'row';
                newRow.innerHTML = `
                    <div class="col-md-3 mb-3 question_input">
                  <textarea name="questionInput" class="form-control"
                  placeholder="Enter Your Question Here" required></textarea>
                </div>
                <div class="col-md-3 mb-3 option">
                  <input type="text" name="Option1" class="form-control"
                  placeholder="option 1" required>
                </div>

                <div class="col-md-4 mb-3 option">
                  <input type="text" name="Option2" class="form-control"
                  placeholder="Option 2" required>
                </div>

                <div class="col-md-3 mb-3 option">
                  <input type="text" name="Option3" class="form-control"
                  placeholder="Option 3" required>
                </div>

                <div class="col-md-3 md-3 option">
                  <input type="text" name="option4" class="form-control"
                  placeholder="option 4" required>
                </div>

                <div class="col-md-3 md-3 answer">
                  <input type="text" name="answer" class="form-control"
                  placeholder="Enter the Right Answer" required>
                </div>
                    <div class="col-md-2 mb-3 answer">
                        <button class="btn btn-danger remove_item_btn">Remove</button>
                    </div>
                `;
                container.prepend(newRow);
            }
        });
        document.addEventListener('click',function(e) {
          if(e.target.classList.contains('remove_item_btn')) {
            e.preventDefault();
            let container = document.getElementById('show_item');
            container.removeChild(container.firstElementChild);
          }
        })

        function updateTextInput(val) {
          document.getElementById('textInput').value=val;
        }
    </script>
    {# {% endblock %} #}
  </body>
</html>
